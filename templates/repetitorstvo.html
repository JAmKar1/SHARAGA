<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ | University Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .navbar-brand {
            font-weight: 600;
            color: #2c3e50;
        }
        .header-card {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .content-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .info-card {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-left: 4px solid #4CAF50;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .tutoring-card {
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s;
        }
        .tutoring-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .btn-primary-custom {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            border: none;
            padding: 10px 30px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s;
        }
        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
        }
        .btn-secondary-custom {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            border: none;
            padding: 10px 30px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s;
        }
        .btn-secondary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);
        }
        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            margin-right: 5px;
        }
        .status-active {
            background-color: #e8f5e9;
            color: #388e3c;
        }
        .status-pending {
            background-color: #fff3e0;
            color: #f57c00;
        }
        .status-completed {
            background-color: #e8eaf6;
            color: #3f51b5;
        }
        .status-cancelled {
            background-color: #ffebee;
            color: #d32f2f;
        }
        .footer {
            margin-top: 30px;
            padding: 20px 0;
            color: #6c757d;
            font-size: 0.9rem;
            border-top: 1px solid #dee2e6;
        }
        .alert-custom {
            border-radius: 10px;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .stats-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .stats-number {
            font-size: 2rem;
            font-weight: 700;
            color: #4CAF50;
        }
        .stats-label {
            color: #6c757d;
            font-size: 0.9rem;
        }
        .teacher-badge {
            background-color: #e3f2fd;
            color: #1565c0;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .student-badge {
            background-color: #f3e5f5;
            color: #7b1fa2;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .badge-container {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('home') }}">
                <i class="bi bi-building"></i> –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('home') }}"><i class="bi bi-house"></i> –ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    {% if session.user_type == 'starosta' or session.user_type == 'admin' %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('starosta') }}"><i class="bi bi-people"></i> –°—Ç–∞—Ä–æ—Å—Ç–∞</a>
                    </li>
                    {% endif %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('raspisanie') }}"><i class="bi bi-calendar-week"></i> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="{{ url_for('repetitorstvo') }}"><i class="bi bi-book"></i> –†–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ</a>
                    </li>
                    {% if session.user_type == 'admin' %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('users_list') }}"><i class="bi bi-gear"></i> –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
                    </li>
                    {% endif %}
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle"></i> {{ session.name }}
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ url_for('profile') }}"><i class="bi bi-person"></i> –ü—Ä–æ—Ñ–∏–ª—å</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('my_tutoring') }}"><i class="bi bi-book"></i> –ú–æ–∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–∞</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{{ url_for('logout') }}"><i class="bi bi-box-arrow-right"></i> –í—ã–π—Ç–∏</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container mt-4">
        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ url_for('home') }}">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li class="breadcrumb-item active" aria-current="page">–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ</li>
            </ol>
        </nav>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header-card">
            <div class="row align-items-center">
                <div class="col-md-1 text-center mb-3 mb-md-0">
                    <div class="profile-avatar" style="width: 80px; height: 80px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 3px solid rgba(255,255,255,0.3);">
                        <i class="bi bi-book-half" style="font-size: 36px;"></i>
                    </div>
                </div>
                <div class="col-md-11">
                    <h1 class="display-6">üìö –°–∏—Å—Ç–µ–º–∞ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–∞</h1>
                    <p class="lead mb-0">–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –æ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤</p>
                </div>
            </div>
        </div>

        <!-- Flash —Å–æ–æ–±—â–µ–Ω–∏—è -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ 'danger' if category == 'error' else category }} alert-custom alert-dismissible fade show mt-3" role="alert">
                        <i class="bi bi-{{ 'exclamation-triangle' if category == 'error' else 'check-circle' }} me-2"></i>
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
        <div class="info-card">
            <div class="row">
                <div class="col-md-12">
                    <h5><i class="bi bi-info-circle"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–∞?</h5>
                    <div class="row mt-2">
                        <div class="col-md-6">
                            <p class="mb-1"><i class="bi bi-check-circle text-success"></i> –í—Å–µ –∑–∞–Ω—è—Ç–∏—è –≤–∏–¥–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</p>
                            <p class="mb-1"><i class="bi bi-check-circle text-success"></i> –°—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –ª—é–±—ã–µ –∑–∞–Ω—è—Ç–∏—è</p>
                            <p class="mb-1"><i class="bi bi-check-circle text-success"></i> –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏ —Å—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</p>
                        </div>
                        <div class="col-md-6">
                            <p class="mb-1"><i class="bi bi-check-circle text-success"></i> –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ —É—Ä–æ–≤–Ω–µ–π</p>
                            <p class="mb-1"><i class="bi bi-check-circle text-success"></i> –ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ –∑–∞–Ω—è—Ç–∏–π</p>
                            <p class="mb-1"><i class="bi bi-check-circle text-success"></i> –ü—Ä—è–º–∞—è —Å–≤—è–∑—å —Å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="row mb-4">
            <div class="col-md-3 col-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">{{ (teachers|length) + (students|length) }}</div>
                    <div class="stats-label">–í—Å–µ–≥–æ –∑–∞–Ω—è—Ç–∏–π</div>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">{{ teachers|length }}</div>
                    <div class="stats-label">–û—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">{{ students|length }}</div>
                    <div class="stats-label">–û—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</div>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">
                        {% set total_registered = 0 %}
                        {% for t in teachers %}
                            {% set total_registered = total_registered + t.registered_count %}
                        {% endfor %}
                        {% for s in students %}
                            {% set total_registered = total_registered + s.registered_count %}
                        {% endfor %}
                        {{ total_registered }}
                    </div>
                    <div class="stats-label">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π</div>
                </div>
            </div>
        </div>

        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="content-card">
            <h4 class="mb-4"><i class="bi bi-lightning"></i> –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h4>
            <div class="row">
                {% if session.user_type in ['teacher', 'student', 'admin'] %}
                <div class="col-md-4 mb-3">
                    <a href="{{ url_for('add_tutoring') }}" class="btn btn-primary-custom w-100">
                        <i class="bi bi-plus-circle"></i> –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
                    </a>
                </div>
                {% endif %}
                <div class="col-md-4 mb-3">
                    <a href="{{ url_for('my_tutoring') }}" class="btn btn-secondary-custom w-100">
                        <i class="bi bi-journal"></i> –ú–æ–∏ –∑–∞–Ω—è—Ç–∏—è
                    </a>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É..." id="searchInput">
                        <button class="btn btn-success" type="button" onclick="searchTutoring()">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –í—Å–µ –∑–∞–Ω—è—Ç–∏—è –æ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π -->
        <div class="content-card">
            <h4 class="mb-4">
                <i class="bi bi-person-badge text-success"></i>
                –ó–∞–Ω—è—Ç–∏—è –æ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
                <span class="badge bg-success ms-2">{{ teachers|length }}</span>
            </h4>

            {% if teachers and teachers|length > 0 %}
                <div class="row">
                    {% for offer in teachers %}
                    <div class="col-md-6 mb-4">
                        <div class="tutoring-card">
                            <div class="badge-container">
                                <span class="teacher-badge">
                                    <i class="bi bi-person-check"></i> –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
                                </span>
                                <span class="status-badge status-active">{{ offer.status }}</span>
                            </div>

                            <h5>{{ offer.subject }}</h5>
                            <p class="text-muted">{{ offer.description|default('–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç', true) }}</p>

                            <div class="row mb-3">
                                <div class="col-6">
                                    <small><i class="bi bi-person"></i> <strong>{{ offer.tutor_name }}</strong></small>
                                </div>
                                <div class="col-6 text-end">
                                    <small><i class="bi bi-people"></i> {{ offer.registered_count }}/{{ offer.max_students }} –º–µ—Å—Ç</small>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-6">
                                    <small><i class="bi bi-calendar-week"></i> {{ offer.days }}</small>
                                </div>
                                <div class="col-6 text-end">
                                    <small><i class="bi bi-clock"></i> {{ offer.time }}</small>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-6">
                                    <small><i class="bi bi-geo-alt"></i> {{ offer.room }}</small>
                                </div>
                                <div class="col-6 text-end">
                                    <small class="text-success"><i class="bi bi-currency-dollar"></i> {{ offer.price }}</small>
                                </div>
                            </div>

                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">
                                    <i class="bi bi-calendar"></i> {{ offer.created_at[:10] if offer.created_at else '–ù–µ–¥–∞–≤–Ω–æ' }}
                                </small>

                                {% if session.user_type == 'student' %}
                                <form action="{{ url_for('register_for_tutoring', tutoring_id=offer.id) }}" method="POST" class="d-inline">
                                    <button class="btn btn-sm btn-success" type="submit"
                                            {% if offer.registered_count >= offer.max_students %}disabled{% endif %}>
                                        <i class="bi bi-plus-circle"></i>
                                        {% if offer.registered_count >= offer.max_students %}
                                            –ú–µ—Å—Ç –Ω–µ—Ç
                                        {% else %}
                                            –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                                        {% endif %}
                                    </button>
                                </form>
                                {% elif session.user_type == 'teacher' and session.user_id == offer.tutor_id %}
                                <a href="{{ url_for('my_tutoring') }}" class="btn btn-sm btn-outline-primary">
                                    <i class="bi bi-gear"></i> –£–ø—Ä–∞–≤–ª—è—Ç—å
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i> –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –æ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
                </div>
            {% endif %}
        </div>

        <!-- –í—Å–µ –∑–∞–Ω—è—Ç–∏—è –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤ -->
        <div class="content-card mt-4">
            <h4 class="mb-4">
                <i class="bi bi-mortarboard text-primary"></i>
                –ó–∞–Ω—è—Ç–∏—è –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤
                <span class="badge bg-primary ms-2">{{ students|length }}</span>
            </h4>

            {% if students and students|length > 0 %}
                <div class="row">
                    {% for tutor in students %}
                    <div class="col-md-6 mb-4">
                        <div class="tutoring-card">
                            <div class="badge-container">
                                <span class="student-badge">
                                    <i class="bi bi-person"></i> –°—Ç—É–¥–µ–Ω—Ç-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä
                                </span>
                                <span class="status-badge status-active">{{ tutor.status }}</span>
                            </div>

                            <h5>{{ tutor.subject }}</h5>
                            <p class="text-muted">{{ tutor.description|default('–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç', true) }}</p>

                            <div class="row mb-3">
                                <div class="col-6">
                                    <small><i class="bi bi-person"></i> <strong>{{ tutor.tutor_name }}</strong></small>
                                </div>
                                <div class="col-6 text-end">
                                    <small><i class="bi bi-people"></i> {{ tutor.registered_count }}/{{ tutor.max_students }} –º–µ—Å—Ç</small>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-6">
                                    <small><i class="bi bi-calendar-week"></i> {{ tutor.days }}</small>
                                </div>
                                <div class="col-6 text-end">
                                    <small><i class="bi bi-clock"></i> {{ tutor.time }}</small>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-6">
                                    <small><i class="bi bi-geo-alt"></i> {{ tutor.room }}</small>
                                </div>
                                <div class="col-6 text-end">
                                    <small class="text-success"><i class="bi bi-currency-dollar"></i> {{ tutor.price }}</small>
                                </div>
                            </div>

                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">
                                    <i class="bi bi-calendar"></i> {{ tutor.created_at[:10] if tutor.created_at else '–ù–µ–¥–∞–≤–Ω–æ' }}
                                </small>

                                {% if session.user_type == 'student' and session.user_id != tutor.tutor_id %}
                                <form action="{{ url_for('register_for_tutoring', tutoring_id=tutor.id) }}" method="POST" class="d-inline">
                                    <button class="btn btn-sm btn-primary" type="submit"
                                            {% if tutor.registered_count >= tutor.max_students %}disabled{% endif %}>
                                        <i class="bi bi-journal-plus"></i>
                                        {% if tutor.registered_count >= tutor.max_students %}
                                            –ú–µ—Å—Ç –Ω–µ—Ç
                                        {% else %}
                                            –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                                        {% endif %}
                                    </button>
                                </form>
                                {% elif session.user_type == 'student' and session.user_id == tutor.tutor_id %}
                                <a href="{{ url_for('my_tutoring') }}" class="btn btn-sm btn-outline-primary">
                                    <i class="bi bi-gear"></i> –£–ø—Ä–∞–≤–ª—è—Ç—å
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i> –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤
                </div>
            {% endif %}
        </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h6>University Management System</h6>
                    <p>–°–∏—Å—Ç–µ–º–∞ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–∞ ¬© 2025</p>
                </div>
                <div class="col-md-6 text-end">
                    <p>
                        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <strong>{{ session.name }}</strong> |
                        –†–æ–ª—å: <strong>{{ session.user_type }}</strong> |
                        –ó–∞–Ω—è—Ç–∏–π: <strong>{{ (teachers|length) + (students|length) }}</strong>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // –ü–æ–∏—Å–∫ –∑–∞–Ω—è—Ç–∏–π
        function searchTutoring() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.tutoring-card');

            let found = false;

            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                if (text.includes(query)) {
                    card.parentElement.style.display = 'block';
                    found = true;
                } else {
                    card.parentElement.style.display = 'none';
                }
            });

            if (!found && query) {
                alert('–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É: "' + query + '"');
            } else if (!query) {
                // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏ –ø—É—Å—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ
                cards.forEach(card => {
                    card.parentElement.style.display = 'block';
                });
            }
        }

        // –ü–æ–∏—Å–∫ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Enter
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchTutoring();
            }
        });

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ flash —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const alerts = document.querySelectorAll('.alert');
                alerts.forEach(alert => {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                });
            }, 5000);
        });
    </script>
</body>
</html>